<p-toast></p-toast>

<div class="fixed top-0 left-0 w-full h-full overflow-hidden" style="z-index: -1; background: linear-gradient(135deg, #fff5f5 0%, #fed7e2 100%);">
    <i class="pi pi-heart-fill text-pink-200 absolute floating" style="top: 10%; left: 5%; font-size: 4rem; opacity: 0.5;"></i>
    <i class="pi pi-heart-fill text-pink-200 absolute floating" style="top: 70%; right: 10%; font-size: 6rem; opacity: 0.3;"></i>
    <i class="pi pi-star-fill text-yellow-200 absolute floating" style="top: 30%; right: 5%; font-size: 2rem; opacity: 0.4;"></i>
</div>

<div class="min-h-screen p-2 md:p-6 lg:p-8 overflow-x-hidden">
  <div class="text-center mb-6 mt-4">
    <span class="inline-block p-2 px-4 border-round-4xl bg-pink-100 text-pink-700 text-xs font-bold mb-3 shadow-1">
      <i class="pi pi-star-fill mr-1"></i> CHAPTER NINE
    </span>
    <h1 class="text-5xl md:text-7xl font-bold m-0 header-gradient">Our Journey</h1>
    <p class="text-lg text-600 mt-3 font-italic px-3">"Counting every second with you."</p>
  </div>

  <div class="grid justify-content-center px-2">
    <div class="col-12 md:col-6 lg:col-4 mb-3">
      <p-card styleClass="glass-card shadow-6 border-round-3xl h-full">
        <div class="flex flex-column align-items-center py-2">
          <div class="flex justify-content-center gap-3 md:gap-4 mb-4">
            <div class="text-center">
              <span class="block text-3xl md:text-4xl font-bold text-pink-500">{{ duration.years }}</span>
              <span class="text-500 uppercase text-xs font-bold">Years</span>
            </div>
            <div class="text-center">
              <span class="block text-3xl md:text-4xl font-bold text-pink-500">{{ duration.months }}</span>
              <span class="text-500 uppercase text-xs font-bold">Months</span>
            </div>
            <div class="text-center">
              <span class="block text-3xl md:text-4xl font-bold text-pink-500">{{ duration.days }}</span>
              <span class="text-500 uppercase text-xs font-bold">Days</span>
            </div>
          </div>

          <p-divider align-item="center" styleClass="w-full">
            <span class="p-tag p-tag-rounded bg-pink-500 px-3 shadow-2">{{ totalDaysTogether }} Days Total</span>
          </p-divider>

          <div class="w-full mt-4 px-2">
            <div class="flex justify-content-between mb-2">
              <span class="text-xs font-medium text-500">Yearly Progress</span>
              <span class="text-xs font-bold text-pink-500">{{ progressToNextAnniversary }}%</span>
            </div>
            <p-progressBar [value]="progressToNextAnniversary" [showValue]="false" styleClass="h-1rem border-round-xl"></p-progressBar>
          </div>
        </div>
      </p-card>
    </div>

    <div class="col-12 md:col-6 lg:col-5 mb-3">
      <p-card header="Key Dates" styleClass="glass-card shadow-6 border-round-3xl h-full">
        <div class="flex flex-column gap-3">
          @for (event of timelineEvents; track event.label) {
          <div class="flex align-items-center p-2 md:p-3 surface-0 border-round-2xl shadow-1">
            <div class="bg-pink-50 border-circle w-2rem h-2rem md:w-3rem md:h-3rem flex align-items-center justify-content-center mr-3">
              <i [class]="event.icon + ' text-pink-500 text-sm md:text-xl'"></i>
            </div>
            <div class="flex flex-column">
              <span class="text-sm md:text-base font-bold text-800">{{ event.label }}</span>
              <span class="text-500 text-xs">{{ event.date }}</span>
            </div>
            <p-tag [value]="event.tag" severity="info" styleClass="ml-auto text-xs px-2"></p-tag>
          </div>
          }
        </div>
      </p-card>
    </div>
  </div>

  <div class="grid justify-content-center mt-5 px-2">
    <div class="col-12 lg:col-10">
      <h2 class="text-center text-2xl font-bold text-800 mb-4">Captured Moments</h2>
      <div class="flex flex-wrap justify-content-center gap-3">
        @for (photo of photos; track photo.source) {
          <div class="polaroid-small shadow-3">
            <p-image 
                [src]="photo.source" 
                [alt]="photo.alt" 
                width="140" 
                [preview]="true" 
                imageClass="border-round-sm">
            </p-image>
            <p class="text-center font-italic text-600 mt-2 mb-0 text-xs text-overflow-ellipsis overflow-hidden white-space-nowrap" style="width: 140px;">
              {{ photo.alt }}
            </p>
          </div>
        }
      </div>
    </div>
  </div>

  <div class="flex justify-content-center mt-8 mb-8">
    <button (click)="showSecret()" class="bright-btn pulse-animation">
      <i class="pi pi-lock-open mr-2"></i> Unlock Secret Message
    </button>
  </div>
</div>