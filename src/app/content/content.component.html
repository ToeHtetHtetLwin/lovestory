<div class="love-page-wrapper">
  <header class="hero-section">
    <div class="hero-content">
      <h1 class="main-title">To My Dearest</h1>
      <p class="sub-title">
        Every picture here is a reason why I never want to let you go.
      </p>

      <div class="nav-links">
        <p-button
          (onClick)="confirmForgiveness()"
          label="I have a question...Click on this"
          icon="pi pi-heart-fill"
          [rounded]="true"
          severity="danger"
          styleClass="p-button-lg shadow-4"
        >
        </p-button>
      </div>
    </div>
  </header>

  <section class="apology-note">
    <div class="note-card shadow-2">
      <i class="pi pi-heart-fill heart-icon"></i>
      <h2>I'm Truly Sorry</h2>
      <p>
        I’ve been looking through our photos and realized how much joy you bring
        into my life. I regret hurting the person I love most. Please look
        through past memories and remember the "us" that I cherish so deeply.
      </p>
    </div>
  </section>

  <main class="memory-grid-container">
    <div class="grid-header">
      <span class="line"></span>
      <h3>My Beautiful Queen</h3>
      <span class="line"></span>
    </div>

    <div class="card-grid">
      @for(img of image; track img.id){
      <p-card class="compact-card">
        <ng-template pTemplate="header">
          <div class="image-wrapper">
            <img [src]="img.image" [alt]="img.name" class="memory-img" />
            <div class="image-overlay"><i class="pi pi-heart"></i></div>
          </div>
        </ng-template>
        <div class="card-body">
          <h4 class="card-title">{{ img.name }}</h4>
          <p-button
            label="Our Moment"
            size="small"
            [rounded]="true"
            severity="danger"
            icon="pi pi-star"
          ></p-button>
        </div>
      </p-card>
      }
    </div>
  </main>

  <p-confirmDialog #cd>
    <ng-template pTemplate="headless" let-message>
      <div class="dialog-custom">
        <div class="dialog-icon-circle">
          <i class="pi pi-heart-fill"></i>
        </div>
        <span class="dialog-header">{{ message.header }}</span>
        <p class="dialog-message">{{ message.message }}</p>
        <div class="flex gap-3 mt-4">
          <p-button
            label="I Forgive You"
            (onClick)="cd.accept()"
            severity="success"
            styleClass="p-button-rounded px-4"
          ></p-button>
          <p-button
            label="Not Yet"
            (onClick)="cd.reject()"
            styleClass="p-button-rounded p-button-text p-button-secondary"
          ></p-button>
        </div>
      </div>
    </ng-template>
  </p-confirmDialog>

  <p-toast></p-toast>
</div>

<footer class="pretty-footer mb-2">
  <div class="footer-wave">
    <svg
      data-name="Layer 1"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 1200 120"
      preserveAspectRatio="none"
    >
      <path
        d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"
        class="shape-fill"
      ></path>
    </svg>
  </div>
  <section class="love-input-container">
    <div class="love-box shadow-4">
      <h3 class="love-question">One last thing...</h3>
      <p>Do you still love me? ❤️</p>

      <div class="input-wrapper">
        <input
          type="text"
          pInputText
          [(ngModel)]="loveAnswer"
          placeholder="Type Yes/No..."
          class="custom-input"
        />
        <p-button
          label="Check"
          (onClick)="checkLove()"
          severity="help"
          [rounded]="true"
          styleClass="ml-2"
        >
        </p-button>
      </div>

      @if(showSecret) {
      <div class="surprise-area fadein">
        <p class="secret-text">{{ secretMsg }}</p>
        @if(isHappy) {
        <div class="image-reveal">
          <img
            src="assets/b2.jpg"
            alt="Our Happiness"
            class="final-img shadow-6"
          />
        </div>
        }
      </div>
      }
    </div>
  </section>
  <div class="footer-content">
    <div class="heart-line">
      <span class="dot"></span>
      <i class="pi pi-heart-fill"></i>
      <span class="dot"></span>
    </div>

    <p class="footer-message">
      "I'll keep choosing you, over and over, without a pause."
    </p>

    <div class="social-links">
      <span class="made-with">Made with love for <strong>Babe</strong></span>
    </div>

    <div class="copyright">© 2025 • Forever & Always</div>
  </div>
</footer>
